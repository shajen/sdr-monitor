{% extends "generic/simple_small.html" %}
{% load i18n %}
{% load sdr_filters %}
{% load static %}

{% block simple_title %}Gain tester{% endblock %}

{% block main_scripts %}
<script src="{% static 'js/gain_tester.js' %}"></script>
{% endblock %}

{% block simple_content %}
<div class="modal modal-lg fade" id="status_modal" tabindex="-1" aria-labelledby="status_label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="status_label">Status</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div id="status_content" class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Ok</button>
            </div>
        </div>
    </div>
</div>

<div id="config" style="display: none;" mqtt_url="{{ mqtt.url }}" mqtt_user="{{ mqtt.user }}" mqtt_password="{{ mqtt.password }}" mqtt_frontend_path="{{ mqtt.frontend_path }}">
</div>
<div class="row">
    <div class="col-6">
        <table class="table table-striped table-bordered table-hover">
            <tr>
                <td>Name</td>
                <td>Value</td>
                <td>Unit</td>
            </tr>
            <tr>
                <td>Scanner</td>
                <td>
                    <select class="form-select form-control" autocomplete="off" id="scanner">
                        <option value="default" selected disabled hidden>Select</option>
                    </select>
                </td>
                <td></td>
            </tr>
            <tr>
                <td>Device</td>
                <td>
                    <select class="form-select form-control" autocomplete="off" id="device">
                        <option value="default" selected disabled hidden>Select</option>
                    </select>
                </td>
                <td></td>
            </tr>
            <tr>
                <td>Test name</td>
                <td><input class="form-control" autocomplete="off" id="name"></td>
                <td></td>
            </tr>
            <tr>
                <td>Sample rate</td>
                <td><input class="form-control" autocomplete="off" id="sample_rate" value="2000000"></td>
                <td>[Hz]</td>
            </tr>
            <tr>
                <td>Start</td>
                <td><input class="form-control" autocomplete="off" id="range_start" value="144000000"></td>
                <td>[Hz]</td>
            </tr>
            <tr>
                <td>Stop</td>
                <td><input class="form-control" autocomplete="off" id="range_stop" value="146000000"></td>
                <td>[Hz]</td>
            </tr>
            <tr>
                <td>Single gain test duration</td>
                <td><input class="form-control" autocomplete="off" id="duration" value="60"></td>
                <td>[s]</td>
            </tr>
        </table>
    </div>
    <div class="col-6">
        <table class="table table-striped table-bordered table-hover" id="gains">
            <tr>
                <td>Name</td>
                <td>Value</td>
                <td>Min</td>
                <td>Max</td>
                <td>Step</td>
            </tr>
        </table>
    </div>
</div>
<div>
    <div class="col-12">
        <div class="text-center">
            <button id="start" type="button" class="btn btn-success" autocomplete="off">Start</button>
            <button id="stop" type="button" class="btn btn-danger" autocomplete="off">Stop</button>
            <button id="status" type="button" class="btn btn-primary" autocomplete="off">Status</button>
        </div>
    </div>
</div>
<div class="row m-2" id="waiting_section">
    <div class="text-center">
        <div class="spinner-border" role="status">
        </div>
        <div>
            <span class="sr-only">Connecting...</span>
        </div>
    </div>
</div>
{% endblock %}