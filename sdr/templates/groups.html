{% extends "generic/section_big.html" %}
{% load i18n %}
{% load sdr_filters %}

{% block section_title %}{% trans "GROUPS" %}: {{items.paginator.count}}{% endblock %}

{% block section_content %}
<div class="row mt-2">
    <div class="col-12">
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
                <tr>
                    <form action="{% url 'sdr_groups' %}" method="get">
                        {% include "generic/headers/filter_string.html" with field="name" options=name_options %}
                        {% include "generic/headers/filter_number.html" with field="begin_frequency" %}
                        {% include "generic/headers/filter_number.html" with field="end_frequency" %}
                        {% include "generic/headers/filter_string.html" with field="modulation" options=modulation_options %}
                        {% include "generic/headers/filter_number.html" with field="transmissions_count" %}
                        <th>
                            <input type="hidden" id="input_order_by" value="{{ order_by }}" name="order_by">
                            <input type="submit" class="btn btn-success" value="Filter">
                            <a href="{% url 'sdr_groups' %}?reset" class="btn btn-danger">Reset</a>
                        </th>
                    </form>
                </tr>
                <tr>
                    {% include "generic/headers/sort.html" with name="Name" field="name" col="1" %}
                    {% include "generic/headers/sort.html" with name="Begin frequency" field="begin_frequency" col="1" %}
                    {% include "generic/headers/sort.html" with name="End frequency" field="begin_frequency" col="1" %}
                    {% include "generic/headers/sort.html" with name="Modulation" field="modulation" col="1" %}
                    {% include "generic/headers/sort.html" with name="Transmissions" field="transmissions_count" col="1" %}
                    <th class="col-md-1"></th>
                </tr>
                {% for group in items %}
                <tr>
                    <td class="py-1">{{ group.name }}</td>
                    <td class="py-1">{{ group.begin_frequency | frequency }}</td>
                    <td class="py-1">{{ group.end_frequency | frequency }}</td>
                    <td class="py-1">{{ group.modulation }}</td>
                    <td class="py-1">{{ group.transmissions_count }}</td>
                    <td class="py-1"> <a href="{% url 'sdr_delete_group' group.id%}" class="btn btn-danger">Delete</a> </td>
                </tr>
                {% endfor %}
                <tr>
                    <form action="{% url 'sdr_add_group' %}" method="get">
                        {% include "generic/headers/input.html" with name="Name" field="name" col="1" %}
                        {% include "generic/headers/input.html" with name="Begin frequency" field="begin_frequency" col="1" %}
                        {% include "generic/headers/input.html" with name="End frequency" field="end_frequency" col="1" %}
                        <th class="col-md-{{ col }}">
                            <select class="form-select form-control" name="modulation">
                                <option value="none" selected disabled hidden> Modulation </option>
                                <option value="AM">AM</option>
                                <option value="FM">FM</option>
                            </select>
                        </th>
                        <th></th>
                        <th>
                            <input type="submit" class="btn btn-success" value="Create">
                            <input type="reset" class="btn btn-danger" value="Reset">
                        </th>
                    </form>
                </tr>
            </table>
        </div>
    </div>
</div>
{% include "generic/paginator.html" with page_obj=items page_param="page" %}
{% endblock %}