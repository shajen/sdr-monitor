{% extends "generic/section_big.html" %}
{% load i18n %}
{% load sdr_filters %}

{% block section_title %}{% trans "SPECTROGRAMS" %}: {{items.paginator.count}}{% endblock %}

{% block section_content %}
<div class="row mt-2">
    <div class="col-12">
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
                <tr>
                    <form action="{% url 'sdr_spectrograms' %}" method="get">
                        {% include "generic/headers/filter_string.html" with field="device_name" options=device_name_options %}
                        {% include "generic/headers/filter_string.html" with field="source" options=source_options %}
                        {% include "generic/headers/filter_number.html" with field="datetime" %}
                        {% include "generic/headers/filter_number.html" with field="samples" %}
                        {% include "generic/headers/filter_number.html" with field="frequency" %}
                        {% include "generic/headers/filter_number.html" with field="sample_rate" %}
                        {% include "generic/headers/filter_number.html" with field="step_frequency" %}
                        <th colspan="3">
                            <input type="hidden" id="input_order_by" value="{{ order_by }}" name="order_by">
                            <input type="submit" class="btn btn-success" value="Filter">
                            <a href="?reset" class="btn btn-danger">Reset</a>
                        </th>
                    </form>
                </tr>
                <tr>
                    {% include "generic/headers/sort.html" with name="Device" field="device_name" col="1" %}
                    {% include "generic/headers/sort.html" with name="Source" field="source" col="1" %}
                    {% include "generic/headers/sort.html" with name="Date" field="datetime" col="1" %}
                    {% include "generic/headers/sort.html" with name="Samples count" field="samples" col="1" %}
                    {% include "generic/headers/sort.html" with name="Frequency" field="frequency" col="1" %}
                    {% include "generic/headers/sort.html" with name="Sample rate" field="sample_rate" col="1" %}
                    {% include "generic/headers/sort.html" with name="Step frequency" field="step_frequency" col="1" %}
                    <th class="col-md-1">Details</th>
                </tr>
                {% for spectrogram in items %}
                <tr>
                    <td class="py-1">{{ spectrogram.device_name }}</td>
                    <td class="py-1">{{ spectrogram.source }}</td>
                    <td class="py-1">{{ spectrogram.date }}</td>
                    <td class="py-1">{{ spectrogram.samples | big_number }}</td>
                    <td class="py-1">{{ spectrogram.frequency|frequency }}</td>
                    <td class="py-1">{{ spectrogram.sample_rate|frequency }}</td>
                    <td class="py-1">{{ spectrogram.step_frequency|frequency }} </td>
                    <td class="py-1">
                        <a href="{% url 'sdr_spectrogram' spectrogram.id %}?mode=static" class="btn btn-primary">open </a>
                    </td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
</div>
{% include "generic/paginator.html" with page_obj=items page_param="page" %}
{% endblock %}